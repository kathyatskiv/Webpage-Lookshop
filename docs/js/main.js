!function(t){var n={};function e(a){if(n[a])return n[a].exports;var c=n[a]={i:a,l:!1,exports:{}};return t[a].call(c.exports,c,c.exports,e),c.l=!0,c.exports}e.m=t,e.c=n,e.d=function(t,n,a){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var c in t)e.d(a,c,function(n){return t[n]}.bind(null,c));return a},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";e.r(n);e(1),e(2);function a(){var t=document.getElementById("menu-btn"),n=document.getElementById("menu-list");screen.width<=1100?(c(t,"active"),o(n,"active"),document.addEventListener("click",(function(){return function(t,n){t.classList.contains("active")?(o(t,"active"),c(n,"active")):(o(n,"active"),c(t,"active"))}(t,n)}))):(t.classList.contains("active")&&o(t,"active"),n.classList.contains("active")&&o(n,"active"))}function c(t,n){t.classList.add(n)}function o(t,n){t.classList.remove(n)}document.addEventListener("DOMContentLoaded",(function(t){a(),window.addEventListener("resize",(function(t){return a()})),p(),function(){var t=u("https://nit.tron.net.ua/api/category/list"),n=document.getElementById("category");for(var e in n.innerHTML="",n.innerHTML+='<option class="category__option" data-id="all">All products</option>',t)n.innerHTML+='<option class="category__option" data-id='.concat(t[e].id,">").concat(t[e].name,"</option>");n.addEventListener("change",(function(){return t=document.getElementsByClassName("category__option"),n=document.getElementById("category"),void("all"==(e=t[n.selectedIndex].getAttribute("data-id"))?p():m(u("https://nit.tron.net.ua/api/product/list/category/".concat(e))));var t,n,e}))}(),l()}));var r=null==JSON.parse(localStorage.getItem("cart"))?[]:JSON.parse(localStorage.getItem("cart")),s=document.getElementsByClassName("cart__link");function i(t,n,e,a){return{id:t,price:n,name:e,amount:1,currency:"$",img:a}}function l(){var t=0,n=0;r.forEach((function(e){t+=e.amount,n+=e.price*e.amount})),document.getElementsByClassName("cart__amount")[0].textContent=t;var e=document.getElementsByClassName("cart__price")[0],a=document.getElementsByClassName("currency")[0].textContent;e.innerHTML="".concat(n.toFixed(2),' <span class="currency">').concat(a,"</span>"),localStorage.setItem("cart",JSON.stringify(r)),function(t){var n;n=document.getElementsByClassName("modal__body")[0];var e=document.getElementsByClassName("modal__footer")[0];0==r.length?(n.innerHTML="Cart is empty",e.innerHTML="<h3>Total: ".concat(0,'<span class = "currency">$</span></h3>')):(n.innerHTML="",r.forEach((function(t){var e,a,c,o,r,s;n.innerHTML+=(e=t.name,a=t.price,c=t.amount,o=t.currency,r=t.img,s=t.id,'<div class = "cartItem" data-id = "'.concat(s,'">\n    <div class = "cartItem__img--wrapper">\n      <img src="').concat(r,'" class = "cartItem__img">\n    </div>\n    <div class="cartItem__descr--wrapper">\n      <a class = "cartItem__name" href="#" >').concat(e.length<=20?e:e.substr(0,20).concat(" ..."),'</a>\n      <div class = "cartItem__amount-bar">\n        <button class = "cartItem__btn-m cartItem__btn" >-</button>\n        ').concat(c,'\n        <button class = "cartItem__btn-pl cartItem__btn">+</button>\n      </div>\n      <span class="cartItem__price">\n        ').concat((a*c).toFixed(2),' <span class = "currency">').concat(o,'</span>\n      </span>\n      <button class="cartItem__close">&times;</button>\n    </div>\n  </div>'))})),e.innerHTML="<h3>Total: ".concat(t.toFixed(2),'<span class = "currency">$</span></h3>\n  <button class="modal__btn" id = "modal__btn">Buy</button>'));a=document.getElementById("modal__btn"),c=document.getElementById("cartModal"),o=document.getElementById("order"),a.addEventListener("click",(function(){c.style.display="none",o.style.display="block",function(){var t=document.getElementById("order");document.getElementsByClassName("order__close")[0].addEventListener("click",(function(n){n.preventDefault(),t.style.display="none"})),window.onclick=function(n){n.target==t&&(t.style.display="none")};var n=document.forms.order;n.addEventListener("submit",(function(t){return function(t,n){t.preventDefault();var e=new FormData(n);if(e.append("token","3Gqhk47xwHlwH_u3jc-4"),0!=r.length){r.forEach((function(t){e.append("products[".concat(t.id,"]"),"".concat(t.amount))}));var a=new XMLHttpRequest;a.open("POST","https://nit.tron.net.ua/api/order/add",!1),a.onreadystatechange=function(){4==a.readyState&&a.status},a.send(e),console.log(document.getElementById("order__form")),document.getElementById("order__content").innerHTML='<div class="order__header">\n  <span class="order__close">&times;</span>\n  <h2>Make an order</h2>\n</div>\n<div class="last-message"><span>Ми з вами зв\'яжемося</span></div>',r.length=0,l(),n.removeEventListener("submit",submitForm())}}(t,n)}))}()})),function(){var t=document.getElementsByClassName("cartItem"),n=function(n){var e=document.getElementsByClassName("cartItem__close")[n];n<t.length&&e.addEventListener("click",(function(t){t.preventDefault(),r.splice(n,1),l(s[0])}))};for(var e in t)n(e)}(),function(){var t=document.getElementsByClassName("cartItem"),n=function(n){a=document.getElementsByClassName("cartItem__btn-m")[n],c=document.getElementsByClassName("cartItem__btn-pl")[n],n<t.length&&(a.addEventListener("click",(function(t){t.preventDefault(),1==r[n].amount?r.splice(n,1):r[n].amount--,l()})),c.addEventListener("click",(function(t){t.preventDefault(),r[n].amount++,l()})))};for(var e in t){var a,c;n(e)}}(),function(){for(var t=document.getElementsByClassName("cartItem__name"),n=document.getElementById("cartModal"),e=document.getElementById("product-modal"),a=function(a){t[a].addEventListener("click",(function(){n.style.display="none",e.style.display="block",_(t[a].parentElement.parentElement.dataset.id)}))},c=0;c<t.length;c++)a(c)}();var a,c,o}(n)}var d=new XMLHttpRequest;function u(t){if(d.open("GET",t,!1),d.send(),200==d.status)return JSON.parse(d.responseText);alert(d.status+": "+d.statusText)}function m(t){var n,e,a,c,o,s,d,u,m,p=document.getElementsByClassName("products")[0];for(var f in p.innerHTML="",t)p.innerHTML+=(n=t[f].id,e=t[f].image_url,a=t[f].name,c=t[f].price,o=t[f].special_price,'<div class="product" id='.concat(n,'>\n  <button href="#" class="product__link">\n      <div class="product__img--wrapper">\n          <img src=').concat(e,' alt="" class="product__img">\n      </div>\n      \n      <h3 class="product__title">\n          ').concat(a.length<=28?a:a.substr(0,28).concat(" ..."),'\n      </h3>\n      <span class="product__price" data-descr=').concat(null!=o?c:"",'>\n          <span class="currency">$</span>\n          ').concat(null!=o?o:c,'\n      </span>\n      <button class="product__btn" type="button">\n          add to cart\n          <i class="material-icons product__btn-icon">add</i>\n      </button>\n  </button>\n</div>'));!function(){var t=document.getElementById("product-modal");document.getElementById("product-modal__close").addEventListener("click",(function(){t.style.display="none"})),window.addEventListener("click",(function(){event.target==t&&(t.style.display="none")}));for(var n=document.getElementsByClassName("product__link"),e=function(e){n[e].addEventListener("click",(function(){t.style.display="block",_(n[e].parentElement.id)}))},a=0;a<n.length;a++)e(a)}(),function(){var t=document.getElementsByClassName("product"),n=function(n){a=document.getElementsByClassName("product__btn")[n],n<t.length&&a.addEventListener("click",(function(e){e.preventDefault();var a=t[n].getElementsByClassName("product__price")[0].textContent,c=t[n].getElementsByClassName("product__title")[0].textContent,o=t[n].getElementsByClassName("product__img")[0].src,s=parseFloat(function(t){for(var n=!1,e="",a=1;a<t.length;a++)if("\n"!=t[a]){if(" "!=t[a]&&1==n){for(var c=a+1;"\n"!=t[c]&&" "!=t[c]&&c<t.length;)++c;e=t.slice(a,c);break}}else n=!0;return e}(a)),d=function(t){for(var n=!1,e="",a=1;a<t.length;a++)if(("\n"==t[a]||" "!=t[a]&&0==n)&&(n=!0),1==n){for(var c=a+1;"\n"!=t[c]&&c<t.length;)++c;e=t.slice(a,c);break}return e}(c),u=!1;r.forEach((function(e){e.id==t[n].id&&(e.amount++,u=!0)})),0==u&&r.push(i(t[n].id,s,d,o)),l()}))};for(var e in t){var a;n(e)}}(),s=document.getElementById("cartModal"),d=document.getElementById("cartBtn"),u=document.getElementsByClassName("modal__close")[0],d.addEventListener("click",(function(t){t.preventDefault(),s.style.display="block"})),u.addEventListener("click",(function(t){t.preventDefault(),s.style.display="none"})),window.onclick=function(t){t.target==s&&(s.style.display="none")},m=t.length,document.getElementById("products-amount").innerHTML=m}function p(){m(u("https://nit.tron.net.ua/api/product/list"))}function _(t){var n=u("https://nit.tron.net.ua/api/product/".concat(t));document.getElementById("product-modal__body").innerHTML="\n  <img src = ".concat(n.image_url,' class = "product-modal__img">\n  <div class = "product-modal__info">\n    <span class = "product-modal__title"> ').concat(n.name,'</span>\n    <span class = "product-modal__price" data-descr=').concat(null!=n.special_price?n.special_price:"",">").concat(parseFloat(n.price).toFixed(2),'<span class = "currency">$</span></span>\n    <p class = "product-modal__descr">').concat(n.description,'</p>\n    <button class="product__btn product-modal__btn" type="button">\n      add to cart\n      <i class="material-icons product__btn-icon">add</i>\n    </button>\n  </div>\n  '),function(t){document.getElementsByClassName("product-modal__btn")[0].addEventListener("click",(function(){var n=!1;r.forEach((function(e){e.id==t.id&&(e.amount++,n=!0)})),0==n&&r.push(i(t.id,t.price,t.name,t.image_url)),l()}))}(n)}},function(t,n,e){},function(t,n,e){}]);